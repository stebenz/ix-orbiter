kind: orbiter.caos.ch/Orb
version: v0
spec:
  verbose: false
clusters:
  k8s:
    kind: orbiter.caos.ch/KubernetesCluster
    version: v0
    spec:
      controlplane:
        updatesdisabled: false
        provider: kvm
        nodes: 1
        pool: masters
      kubeconfig: null
      networking:
        dnsdomain: cluster.orbitertest
        network: calico
        servicecidr: 100.126.4.0/22
        podcidr: 100.127.224.0/20
      verbose: false
      versions:
        kubernetes: v1.17.0
        orbiter: v0.16.1
        boom: v0.9.23
      workers:
      - updatesdisabled: false
        provider: kvm
        nodes: 1
        pool: workers
providers:
  kvm:
    kind: orbiter.caos.ch/StaticProvider
    version: v0
    spec:
      verbose: false
      remoteuser: tribock
      remotepublickeypath: /home/tribock/.ssh/authorized_keys
      pools:
        masters:
        - id: k8s-orb-0
          hostname: master01
          ip: 52.233.194.215
        workers:
        - id: k8s-orb-1
          hostname: worker01
          ip: 13.95.123.109
        - id: k8s-orb-2
          hostname: worker02
          ip: 52.178.1.111
    loadbalancing:
      kind: orbiter.caos.ch/DynamicLoadBalancer
      version: v0
      spec:
        masters:
        - ip: 52.233.194.215
          transport:
          - name: kubeapi
            sourceport: 6443
            destinations:
            - healthchecks:
                protocol: https
                path: /healthz
                code: 200
              port: 6443
              pool: masters
        workers:
        - ip: 13.95.123.109
          transport:
          - name: httpsingress
            sourceport: 443
            destinations:
            - healthchecks:
                protocol: https
                path: /ambassador/v0/check_ready
                code: 200
              port: 30443
              pool: workers
          - name: httpingress
            sourceport: 80
            destinations:
            - healthchecks:
                protocol: http
                path: /ambassador/v0/check_ready
                code: 200
              port: 30080
              pool: workers
